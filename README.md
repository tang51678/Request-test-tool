## 使用说明

### 基本功能

1. **导入请求**：
   - 粘贴HTTP请求原始数据
   - 点击"加载示例请求"查看格式
   - 点击"解析请求"自动填充配置

2. **请求配置**：
   - 修改协议、URL路径和查询参数
   - 管理请求头（添加/编辑/删除）
   - 编辑请求体内容

3. **执行测试**：
   - "单次测试"：执行一次请求
   - "开始定时测试"：按设定间隔循环发送请求
   - "停止测试"：终止定时测试

4. **结果监控**：
   - 查看请求历史（状态码、响应时间等）
   - 双击记录查看响应详情
   - 自动检测响应内容变化
   - 保存或清除历史记录

### 高级功能

- **变化检测**：自动比较响应内容变化率
- **变化点记录**：记录内容发生重大变化的时间点
- **历史保存**：将请求历史保存为.pkl文件
- **IPv6支持**：正确处理IPv6地址格式
- **协议/端口验证**：检查协议和端口的匹配性

### 使用技巧

1. 当Host头不存在时，工具会尝试从URL中提取主机信息
2. 定时测试期间可以随时停止
3. 双击历史记录查看完整的响应详情
4. 内容变化超过10%会被标记为重大变化
5. 非标准端口（如https使用8080端口）会弹出警告确认

## 优化说明

### 1. Host解析优化

- **多源Host解析**：同时从请求行和Host头中提取主机信息
- **智能协议推断**：根据端口自动设置协议（443→https，80→http）
- **IPv6支持**：正确处理IPv6地址格式（[::1]:8080）
- **端口验证**：检查端口是否与协议匹配，提供警告

### 2. 解析逻辑增强

- **更健壮的请求行解析**：处理各种格式的请求行
- **容错处理**：跳过无效行，处理不规范的HTTP格式
- **头部更新机制**：自动添加/更新Host头
- **错误日志记录**：使用logging模块记录错误信息

### 3. 其他改进

- **SSL警告禁用**：避免SSL验证产生的控制台警告
- **JSON解析容错**：当JSON解析失败时回退到原始数据
- **IPv6支持**：正确处理IPv6地址格式
- **端口验证**：检查端口是否与协议匹配
- **线程安全**：增强定时测试的线程安全性
- **UI优化**：添加更多错误提示和确认对话框

### 4. 错误处理

- **详细的错误日志**：使用logging记录关键操作和错误
- **用户友好提示**：提供明确的错误信息对话框
- **异常捕获**：在关键操作中添加try-except块

### 注意事项

- 确保网络连接正常
- 对于HTTPS请求，证书验证已被禁用
- 长时间定时测试会累积大量历史数据，定期保存或清理
- 解析复杂请求时，关注状态栏的解析反馈
